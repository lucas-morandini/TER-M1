<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-dark/80 backdrop-blur-sm animate-in fade-in duration-300">
  <div class="relative w-full max-w-md bg-gradient-to-b from-dark to-mypurple/90 rounded-xl shadow-2xl border border-mypink/30 overflow-hidden animate-in zoom-in-95 duration-300">
    <!-- Glowing border effect -->
    <div class="absolute -inset-0.5 bg-gradient-to-r from-mypurple via-mypink to-myyellow rounded-xl blur-md opacity-30 -z-10"></div>

    <!-- Modal header -->
    <div class="flex items-center justify-between p-5 border-b border-mypink/30">
      <h3 class="text-xl font-orbitron font-bold text-myyellow">
        Connexion
      </h3>
      <button type="button"
              class="text-mywhite/70 hover:text-myyellow bg-mypurple/40 hover:bg-mypurple/60 rounded-full p-2 transition-all duration-200"
              (click)="closeModal()">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 6 6 18"></path>
          <path d="m6 6 12 12"></path>
        </svg>
        <span class="sr-only">Fermer</span>
      </button>
    </div>

    <!-- Modal body -->
    <div class="p-5">
      <form [formGroup]="loginForm" class="space-y-5" (ngSubmit)="connect()">
        <!-- Email -->
        <div>
          <label for="email" class="block mb-1.5 text-sm font-medium text-mywhite/90">Email</label>
          <div class="relative">
            <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none text-mypink">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect width="20" height="16" x="2" y="4" rx="2"></rect>
                <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
              </svg>
            </div>
            <input type="email"
                  id="email"
                  formControlName="email"
                  placeholder="nom@entreprise.com"
                  class="bg-dark/50 border text-mywhite text-sm rounded-lg focus:ring-mypink focus:border-mypink block w-full pl-10 p-2.5 placeholder-mywhite/50"
                  [class]="hasFieldError('email') ? 'border-red-500' : 'border-mypurple/50'" />
          </div>
          <div *ngIf="hasFieldError('email')" class="mt-1 text-xs text-red-400">
            {{ getFieldError('email') }}
          </div>
        </div>

        <!-- Password -->
        <div>
          <label for="password" class="block mb-1.5 text-sm font-medium text-mywhite/90">Mot de passe</label>
          <div class="relative">
            <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none text-mypink">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect width="18" height="11" x="3" y="11" rx="2" ry="2"></rect>
                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
              </svg>
            </div>
            <input type="password"
                  id="password"
                  formControlName="password"
                  placeholder="••••••••"
                  class="bg-dark/50 border text-mywhite text-sm rounded-lg focus:ring-mypink focus:border-mypink block w-full pl-10 p-2.5 placeholder-mywhite/50"
                  [class]="hasFieldError('password') ? 'border-red-500' : 'border-mypurple/50'" />
          </div>
          <div *ngIf="hasFieldError('password')" class="mt-1 text-xs text-red-400">
            {{ getFieldError('password') }}
          </div>
        </div>

        <!-- Remember Me & Lost Password -->
        <div class="flex flex-wrap justify-between items-center gap-2">
          <div class="flex items-center">
            <input id="remember"
                  type="checkbox"
                  formControlName="remember"
                  class="w-4 h-4 border border-mypurple/50 rounded bg-dark/50 focus:ring-2 focus:ring-mypink text-mypink" />
            <label for="remember" class="ml-2 text-sm font-medium text-mywhite/80">
              Se souvenir de moi
            </label>
          </div>
          <button type="button"
                 class="text-sm text-mypink hover:text-mypink/80 transition-colors font-medium"
                 (click)="lostPassword()">
            Mot de passe oublié?
          </button>
        </div>

        <!-- Login Button -->
        <div class="pt-2">
          <button type="submit"
                 [disabled]="loginForm.invalid"
                 class="w-full bg-gradient-to-r from-myyellow to-myyellow/90 text-dark font-orbitron font-semibold py-3 px-6 rounded-lg hover:from-myyellow/90 hover:to-myyellow transition-all duration-300 transform hover:-translate-y-1 shadow-glow hover:shadow-glow-hover disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none">
            SE CONNECTER
          </button>
        </div>

        <!-- Register Link -->
        <div class="text-center mt-4">
          <div class="inline-flex items-center justify-center w-full">
            <hr class="w-full h-px my-4 bg-mypurple/30 border-0">
            <span class="absolute px-3 text-xs font-medium text-mywhite/60 bg-gradient-to-b from-dark to-mypurple/90">OU</span>
          </div>

          <p class="text-sm text-mywhite/70 mt-2">
            Pas encore de compte?
            <a href="#" class="text-mypink hover:text-mypink/80 transition-colors font-medium">
              Créer un compte
            </a>
          </p>
        </div>

        <!-- Social Login Options -->
        <div class="grid grid-cols-2 gap-3 mt-2">
          <button type="button" class="flex items-center justify-center py-2.5 px-4 bg-[#4267B2]/20 hover:bg-[#4267B2]/30 text-mywhite rounded-lg border border-[#4267B2]/40 transition-colors">
            <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M9.19795 21.5H13.198V13.4901H16.8021L17.198 9.50977H13.198V7.5C13.198 6.94772 13.6457 6.5 14.198 6.5H17.198V2.5H14.198C11.4365 2.5 9.19795 4.73858 9.19795 7.5V9.50977H7.19795L6.80206 13.4901H9.19795V21.5Z" fill="#4267B2"/>
            </svg>
            Facebook
          </button>
          <button type="button" class="flex items-center justify-center py-2.5 px-4 bg-[#DB4437]/20 hover:bg-[#DB4437]/30 text-mywhite rounded-lg border border-[#DB4437]/40 transition-colors">
            <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M21.8055 10.0415H21V10H12V14H17.6515C16.827 16.3285 14.6115 18 12 18C8.6865 18 6 15.3135 6 12C6 8.6865 8.6865 6 12 6C13.5295 6 14.921 6.577 15.9805 7.5195L18.809 4.691C17.023 3.0265 14.634 2 12 2C6.4775 2 2 6.4775 2 12C2 17.5225 6.4775 22 12 22C17.5225 22 22 17.5225 22 12C22 11.3295 21.931 10.675 21.8055 10.0415Z" fill="#DB4437"/>
              <path d="M3.15295 7.3455L6.43845 9.755C7.32745 7.554 9.48045 6 12 6C13.5295 6 14.921 6.577 15.9805 7.5195L18.809 4.691C17.023 3.0265 14.634 2 12 2C8.15895 2 4.82795 4.1685 3.15295 7.3455Z" fill="#4285F4"/>
              <path d="M12 22C14.583 22 16.93 21.0115 18.7045 19.404L15.6095 16.785C14.5718 17.5742 13.3038 18.001 12 18C9.39903 18 7.19053 16.3415 6.35853 14.027L3.09753 16.5395C4.75253 19.778 8.11353 22 12 22Z" fill="#34A853"/>
              <path d="M21.8055 10.0415H21V10H12V14H17.6515C17.2571 15.1082 16.5467 16.0766 15.608 16.7855L15.6095 16.785L18.7045 19.404C18.4855 19.6025 22 17 22 12C22 11.3295 21.931 10.675 21.8055 10.0415Z" fill="#FBBC05"/>
            </svg>
            Google
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
